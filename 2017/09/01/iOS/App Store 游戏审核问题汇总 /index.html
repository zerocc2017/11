<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Bug,">










<meta name="description" content="App Store 审核bug 项目含有 iMessage 功能，出母包再进行 脚本重签名上传 Application Loader 中 testflight 版本 邮件回复：   “Invalid iMessage App - Your iMessage app contains an invalid sticker pack. The app may have been built or si">
<meta name="keywords" content="Bug">
<meta property="og:type" content="article">
<meta property="og:title" content="App Store 游戏审核问题汇总">
<meta property="og:url" content="http://yoursite.com/2017/09/01/iOS/App Store 游戏审核问题汇总 /index.html">
<meta property="og:site_name" content="zerocc博客">
<meta property="og:description" content="App Store 审核bug 项目含有 iMessage 功能，出母包再进行 脚本重签名上传 Application Loader 中 testflight 版本 邮件回复：   “Invalid iMessage App - Your iMessage app contains an invalid sticker pack. The app may have been built or si">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-06-05T03:35:59.709Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="App Store 游戏审核问题汇总">
<meta name="twitter:description" content="App Store 审核bug 项目含有 iMessage 功能，出母包再进行 脚本重签名上传 Application Loader 中 testflight 版本 邮件回复：   “Invalid iMessage App - Your iMessage app contains an invalid sticker pack. The app may have been built or si">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/09/01/iOS/App Store 游戏审核问题汇总 /">





  <title>App Store 游戏审核问题汇总 | zerocc博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zerocc博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">仗键行天下</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-ios">
          <a href="/categories/iOS" rel="section">
            
            iOS
          </a>
        </li>
      
        
        <li class="menu-item menu-item-c++">
          <a href="/categories/C" rel="section">
            
            C++
          </a>
        </li>
      
        
        <li class="menu-item menu-item-音视频">
          <a href="/categories/音视频" rel="section">
            
            音视频
          </a>
        </li>
      
        
        <li class="menu-item menu-item-安全攻防">
          <a href="/categories/安全攻防" rel="section">
            
            安全攻防
          </a>
        </li>
      
        
        <li class="menu-item menu-item-基础整理">
          <a href="/categories/基础整理" rel="section">
            
            基础整理
          </a>
        </li>
      
        
        <li class="menu-item menu-item-时光沙漏">
          <a href="/categories/时光沙漏" rel="section">
            
            时光沙漏
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/01/iOS/App Store 游戏审核问题汇总 /">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerocc">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerocc博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">App Store 游戏审核问题汇总</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-01T19:57:03+08:00">
                2017-09-01
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-06-05T11:35:59+08:00">
                2018-06-05
              </time>
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS-开发日常/" itemprop="url" rel="index">
                    <span itemprop="name">iOS - 开发日常</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="App-Store-审核bug"><a href="#App-Store-审核bug" class="headerlink" title="App Store 审核bug"></a>App Store 审核bug</h1><ol>
<li>项目含有 iMessage 功能，出母包再进行 脚本重签名上传 <strong>Application Loader</strong> 中 <strong>testflight</strong> 版本 邮件回复：</li>
</ol>
<blockquote>
<p>“Invalid iMessage App - Your iMessage app contains an invalid sticker pack. The app may have been built or signed with non-compliant or prerelease tools. For more information, go to developer.apple.com.”</p>
</blockquote>
<p> 解决方法：xcode archive 打包直接 export 导出，再上传 application Loader 中就欧了。</p>
<ol start="2">
<li>Application Loader 上传代码分析就不通过提示错误如下：</li>
</ol>
<blockquote>
<p>“ERROR ITMS-90644:”Missing Image Asset. Your app is missing the Large App Icon asset ‘iMessage App Icon’ in ‘Payload/xxx.app/PlugIns/xxx.appex’ “”</p>
</blockquote>
<p> 解决方法：将扩展功能工程中 xxxxSticker 工程中 info.plist 中 <strong>Minimum system version</strong> 这个 key 删除。</p>
<ol start="3">
<li>Application Loader 上传代码分析就不通过提示错误如下：</li>
</ol>
<blockquote>
<p>“ERROR ITMS-90208: “Invalid Bundle. The bundle testPickle.app/PlugIns/testPickleSticker.appex does not support the minimum OS Version specified in the Info.plist.”</p>
</blockquote>
<p> 解决方法：此为 iMessage Sticker 扩展功能其实 iOS 10.0 才推出，所以在工程 Sticker TARGET 的 General 面板中的 Deployment info 下的 Deployment Target 设置为 10.0适配系统版本。</p>
<ol start="4">
<li>Xcode 8 下编译应用然后在工程目录 Products 下 xxx.app 点击show in finder 可以看到 xxx，新建一个 Payload 文件夹并将 xxx 拖入其中，再将 Payload 压缩，并将 .zip 后缀改为 .ipa ，这样就获取到 .ipa 啦，再通过重签名脚本进行重签名。最后上传 application Loader 上传中就不通过提示错误如下：</li>
</ol>
<blockquote>
<p>“Your app contains non-public API usage.Please review the errors,correct them,and resubmit your application”.</p>
</blockquote>
<blockquote>
<p>“The app contains or inherits from non-public classes in Payload/xxx.app/Pluglns/xxxSticker.appex/xxxSticker:_MSStickerPackCollectionViewDataSource”</p>
</blockquote>
<p> 解决方法：利用 Xcode archive方式 打 <strong>.ipa</strong> 包，再脚本重签名就没问题。</p>
<ol start="5">
<li>Application Loader 上传后邮件反馈不通过如下：</li>
</ol>
<blockquote>
<p>“invalid Executable - The executable ‘xxx.app/Watch/watch.app/PlugIns/watch Extension.appex/watch Extension’ does not contain bitcode.”</p>
</blockquote>
<p> 解决方法：watch app 必须开启 bitcode，Build Settings 中将 <strong>Enable Bitcode</strong> 设为 YES。</p>
<p> 扫盲拓展：<a href="[https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html#//apple_ref/doc/uid/TP40012582-CH35]">苹果 Guides and Sample Code BitCode介绍：</a>Note: For iOS apps, bitcode is the default, but optional. For watchOS and tvOS apps, bitcode is required. If you provide bitcode, all apps and frameworks in the app bundle (all targets in the project) need to include bitcode. bitcode 是被编译程序的一种中间形式的代码，允许苹果在后期重新优化我们程序的二进制文件，App store 会再将这个 bitcode 编译为可执行的64位或32位程序。</p>
<ol start="6">
<li>Application Loader 上传代码分析就不通过提示错误如下：</li>
</ol>
<blockquote>
<p>“ERROR ITMS-90503:”Invalid Bundle. Apps that have ‘arm64’ in the list of UIRequiredDeviceCapabilities in Info.plist must only contain the arm64 slice.” “</p>
</blockquote>
<p> 解决方法：将info.plist 中 Required device capabilities 下 Item1 - armv64 键值对删除，保留 Item0 - armv7 一个就够了。或者粗暴直接将 UIRequiredDeviceCapabilities 删除掉</p>
<p> 扫盲拓展：<a href="[https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html]">苹果 Guides and Sample Code info.plist 介绍</a>。 作用让 iTunes 和 App Store 知道应用程序需要哪些设备相关功能才能运行。但是 UIRequiredDeviceCapabilities 下 Item0 - armv7 按文档说是 Include this key if your app is compiled only for the armv7 instruction set. 应用程序仅为armv7指令集编译  为什么 为什么iPhone 6 。。。都可以安装使用，为什么可以成功上架过审。</p>
<ol start="7">
<li>Application Loader 上传中就不通过提示错误如下：</li>
</ol>
<blockquote>
<p>“The session’s status is FAILED and the error description is ‘Client unable to connect to server(check UDP port and firewall)(15)’ “</p>
</blockquote>
<blockquote>
<p>“The session’s status is FAILED and the error description is ‘Session data transfer timeout (server)(39)’ “</p>
</blockquote>
<blockquote>
<p>“An error occurred while uploading the package:1229635195.itmsp.”</p>
</blockquote>
<blockquote>
<p>“An exception has occurred:The transport has been detected as having stailed and has been aborted. Please try again.”</p>
</blockquote>
<p> 解决方法：毫无办法重新上传就行，上传过程中网络的问题！！！</p>
<ol start="8">
<li>Application Loader 二进制代码分析报错：</li>
</ol>
<blockquote>
<p>“Invalid WatchKit Support - The WatchKitSupport2 folder is missing. Rebuild your app using the current puiblic (GM) version of Xcode and resubmit it”<br>“Invalid Swift Support - The SwiftSupport folder is missing. Rebuild your app using the current puiblic (GM) version of Xcode and resubmit it”</p>
</blockquote>
<ol start="9">
<li><p>提交TestFlight测试显示缺少合规证明</p>
<p>TestFlight测试时显示缺少合规证明</p>
<p>解决方法：在info.plist中增加键值对，ITSAppUsesNonExemptEncryption 设置为 NO；然后加版本号重新打包提交。</p>
</li>
</ol>
<h1 id="其它bug"><a href="#其它bug" class="headerlink" title="其它bug"></a>其它bug</h1><ol>
<li>你的服务端有ipv6地址么？如果您服务端没有ipv6网络那么讲道理无论如何你的app都无法使用ipv6去连您的服务器的。不过如果你的服务器有ipv6隧道这类技术，就好说了。ipv4下使用服务器的ipv4地址+端口号；ipv6下使用ipv6地址+端口号，或者在任意情况下使用域名+端口号。域名可以同时绑定ipv4地址和ipv6地址的（见DNS的A Record和AAAA Record），域名可以捆绑指定的（静态的）ipv6地址</li>
</ol>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Bug/" rel="tag"># Bug</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/07/01/iOS/iOS 工程目录结构设计/" rel="next" title="iOS 工程目录结构设计">
                <i class="fa fa-chevron-left"></i> iOS 工程目录结构设计
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/09/27/时光沙漏/是否还能记起你最近哭的那次？/" rel="prev" title="最近哭的那次还记得吗">
                最近哭的那次还记得吗 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">zerocc</p>
              <p class="site-description motion-element" itemprop="description">似水流年在楼外，我却长醉不愿醒。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">31</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#App-Store-审核bug"><span class="nav-number">1.</span> <span class="nav-text">App Store 审核bug</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#其它bug"><span class="nav-number">2.</span> <span class="nav-text">其它bug</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">[object Object]</span>

  
</div>






  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a></div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
